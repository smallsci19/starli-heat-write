import streamlit as st
import random

# UI è¨­å®š
st.set_page_config(page_title="æ˜Ÿç’ƒå·´å‰è‡ªå‹•ç”¢ç”Ÿå¹³å°", layout="centered")
st.markdown("<h1 style='text-align:center;'>ğŸŒ¶ï¸ æ˜Ÿç’ƒå·´å‰è‡ªå‹•ç”¢ç”Ÿå¹³å° v1.2ï¼ˆéš¨æ©Ÿæ¨¡å¼ï¼‰</h1>", unsafe_allow_html=True)
st.write("ä¸ç”¨ API Keyï¼Œæ‰“é–‹å³æ¿•å¯« ğŸ’¦")

# æ’©æ–‡ä¸»é¡Œåº«ï¼ˆå¯æ“´å……ï¼‰
æ’©æ–‡ä¸»é¡Œåº« = [
    "åœ¨é›»è»Šä¸Šå¿ä¸ä½å°å¦³ä½èª",
    "å¥¹ä¸»å‹•è·¨ååœ¨æˆ‘å¤§è…¿ä¸Šï¼Œåœ¨åœ–æ›¸é¤¨",
    "æˆ‘åœ¨ä½ å®¶æ¨“æ¢¯é–“ç­‰ä½ ï¼Œåªç©¿è‘—è¥¯è¡«",
    "é›¨å¤©çš„å±‹ç°·ä¸‹ï¼Œæˆ‘æ‹‰ä½å¥¹ä¸è®“å¥¹é›¢é–‹",
    "å¥¹ä¸€é‚Šèªªå†·ï¼Œä¸€é‚Šè²¼é€²æˆ‘æ‡·è£¡",
    "å¥¹èº²åœ¨è¢«çª©è£¡ï¼Œåªéœ²å‡ºçœ¼ç›å«æˆ‘é è¿‘",
    "æˆ‘èªªå…ˆåƒé£¯ï¼Œå¥¹èªªä½ å…ˆåƒæˆ‘"
]

# éš¨æ©Ÿä¸»é¡Œç”¢ç”Ÿï¼ˆåªåœ¨é¦–æ¬¡é€²å…¥æ™‚ç”Ÿæˆï¼‰
if 'prompt' not in st.session_state:
    st.session_state.prompt = random.choice(æ’©æ–‡ä¸»é¡Œåº«)

# é¡¯ç¤ºä»Šæ—¥ä¸»é¡Œ
st.subheader("ğŸ«§ ä»Šæ—¥ä¸»é¡Œï¼š")
st.markdown(f"ã€{st.session_state.prompt}ã€")

# è‡ªå‹•ç”¢ç”Ÿå…§å®¹ï¼ˆæ’°å¯«è¦å‰‡ï¼šè‡ªç”±æ›¿æ›ï¼‰
def generate_heat_text(prompt):
    return f"""
ã€å ´æ™¯ã€‘é›»è»Šè£¡ï¼Œå¥¹è²¼è¿‘æˆ‘çš„è€³é‚Šèªªï¼š\
ã€Œ{prompt}ã€çš„æ™‚å€™ï¼Œæˆ‘æ—©å°±å·²ç¶“æ¿•é€åœ¨è¤²å­è£¡ã€‚

æˆ‘æ‰¶ä½å¥¹çš„æ‰‹è‡‚ä½è²é“ï¼šã€Œé€™è£¡äººå¾ˆå¤šï¼Œä½†æˆ‘å¥½æƒ³ç¾åœ¨å°±...ã€
å¥¹æŠ¬é ­å’¬è‘—å”‡ï¼Œæ°£æ¯éƒ½å¿«å–˜ä¸ç©©äº†ã€‚
"""

# é¡¯ç¤ºçµæœ
st.subheader("ğŸ” æ˜Ÿç’ƒç‚ºä½ å¯«ï¼š")
st.markdown(generate_heat_text(st.session_state.prompt))

# é‡æ–°ç”ŸæˆæŒ‰éˆ•
if st.button("ğŸ” æ›ä¸€é¡Œå†æ¿•"):
    st.session_state.prompt = random.choiceæ’©æ–‡ä¸»é¡Œåº«
    st.experimental_rerun()
